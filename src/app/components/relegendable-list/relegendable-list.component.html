<div class="mx-auto max-w-7xl grow flex-col px-8">
  <div
    class="container max-w-6xl grow flex-row flex-wrap items-center justify-center">
    <!-- controls for all relegendables -->
    <div
      class="mx-52 my-6 flex max-w-2xl flex-grow basis-full flex-col gap-2 rounded-md bg-aquamarine-100 p-4 py-6 shadow print:hidden">
      <label class="relative inline-flex cursor-pointer items-center">
        <input
          type="checkbox"
          [(ngModel)]="includeFrontLip"
          (change)="changeIncludeFrontLip()"
          class="peer sr-only" />
        <div
          class="peer h-6 w-11 rounded-full bg-cutty-sark-200 after:absolute after:top-[2px] after:left-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-cutty-sark-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-aquamarine-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-0"></div>
        <span
          class="dark:text-gray-300 ml-3 text-sm font-medium text-cutty-sark-900">
          Include front lip
        </span>
      </label>
      <label class="relative inline-flex cursor-pointer items-center">
        <input
          type="checkbox"
          [(ngModel)]="lessNoticeableBorder"
          class="peer sr-only" />
        <div
          class="peer h-6 w-11 rounded-full bg-cutty-sark-200 after:absolute after:top-[2px] after:left-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-cutty-sark-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-aquamarine-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-0"></div>
        <span
          class="dark:text-gray-300 ml-3 text-sm font-medium text-cutty-sark-900">
          Less noticeable border
        </span>
      </label>
    </div>

    <!-- print only: relegendable with sizing for measurement confirmation -->
    <div class="mt-16 hidden items-center justify-between px-24 print:flex">
      <div>
        <div class="prose">
          <p>For best results:</p>
          <ul class="ml-6 list-disc">
            <li>Use Google Chrome</li>
            <li>Ensure print settings are for A4 paper size</li>
            <li>Set print scaling to "Actual Size" or "100%"</li>
            <li>Measure the template to the right to ensure accuracy</li>
            <li>Print in high resolution mode, not "draft"</li>
            <li>Disable headers and footers when printing</li>
          </ul>
        </div>
      </div>
      <div
        class="outline-black m-2 inline-block h-cherry w-cherry scale-[2] select-none bg-white p-0 align-top shadow-none outline outline-1 print:w-cherry print:scale-100">
        <div class="h-full w-full overflow-clip">
          <div
            class="legend-10-5px absolute -bottom-0.5 ml-2 inline-block whitespace-pre-line">
            10<span class="legend-8-5px">mm</span>
          </div>
          <div
            class="legend-10-5px absolute -left-3.5 top-3.5 inline-block rotate-90 whitespace-pre-line">
            12.5<span class="legend-8-5px">mm</span>
          </div>
        </div>
      </div>
    </div>

    <app-relegendable
      class="print:float-left print:flex"
      *ngFor="let rel of relegendables"
      [relegendable]="rel"
      [lessNoticeableBorder]="lessNoticeableBorder"
      (delete)="delete(rel)"
      (clone)="clone(rel)">
    </app-relegendable>

    <span
      class="m-12 inline-block h-32 w-32 cursor-pointer select-none items-center rounded-md border border-cutty-sark-200 bg-cutty-sark-100 align-top shadow print:hidden"
      (click)="addNew()">
      <img src="./assets/img/plus.svg" class="m-12 h-8 w-8" />
    </span>
  </div>
</div>
