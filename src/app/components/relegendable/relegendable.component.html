<div class="inline-block m-2 bg-slate-700 rounded-md p-2" *ngIf="relegendable !== undefined">
  <!-- preview -->
  <div class="w-full h-32 flex flex-col items-center justify-center print:items-end print:justify-end">
    <div class="inline-block bg-white select-none  m-2 align-top p-1
    outline
    outline-black
    outline-1
    print:w-cherry 
    w-cherry h-cherry
    scale-[2]
  " [ngClass]="fontSizeName()">
      <div class=" h-full w-full" [ngClass]="relegendableClass().parent">
        <div class="inline-block whitespace-pre-line" [ngClass]="relegendableClass().child">
          {{ relegendable.legend }}
        </div>
      </div>
    </div>
  </div>

  <!-- controls -->
  <div class="inline-block flex-col w-48 h-32 bg-green-200 select-none rounded-md align-top p-1 text-sm print:hidden">
    <div>
      <textarea class="flex-initial w-full resize-none " type="text" cols="10" rows="2" wrap="hard"
        [(ngModel)]="relegendable.legend"></textarea>
    </div>

    <div class="flex flex-row justify-between items-center px-3">
      <div class=" w-fit">
        <app-position-picker [position]="relegendable.legendPosition"
          (positionSelected)="onPositionSelected($event)"></app-position-picker>
      </div>
      <div class="w-fit">
        <app-align-picker [(align)]="relegendable.legendAlign"></app-align-picker>
      </div>
    </div>

    <div class="flex flex-row items-center mt-2">
      <input type="range"
        class="w-full h-3 appearance-none rounded-full bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="relegendable.legendFontSize" id="legendFontSize" min="4" max="24" step="0.5" />
      <div class="w-10 ml-1">{{relegendable.legendFontSize}}</div>
    </div>
  </div>
</div>